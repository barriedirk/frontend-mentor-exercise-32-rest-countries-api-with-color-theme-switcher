<div class="result-grid" [class.columns]="pagedCountries().length > 0">
  @for (country of pagedCountries(); track country.name) {
    <app-country-card
      class="result-grid__card"
      [cca3]="country.cca3"
      [alt]="country.flags.alt ?? ''"
      [imageFlag]="country.flags.svg"
      [name]="country.name.common"
      [population]="country.population"
      [region]="country.region"
      [capital]="country.capital[0]" />
  } @empty {
    <div class="result-grid__empty background--inner txt-primary flex flex-col items-center justify-center">
      <svg class="icon" aria-hidden="true">
        <use href="assets/icons/sprite.svg#search" />
      </svg>
      <h2 class="text-preset-2 txt-primary mb-5">ðŸ¤” No results found.</h2>
      <ul class="text-preset-4 light txt-primary flex flex-col gap-1">
        <li>Check for typos in the country name.</li>
        <li>Try searching by a different region.</li>
        <li>Reset the filters to view all countries.</li>
      </ul>
    </div>
  }
</div>

@if (pagedCountries().length > 0) {
  <nav class="result-grid__pagination txt-primary flex flex-row items-center justify-center gap-5 p-2">
    <button class="background--inner p-4" [disabled]="currentPage() === 1" (click)="prevPage()">Previous</button>
    <span>Page {{ currentPage() }} of {{ totalPages() }}</span>
    <button class="background--inner p-4" [disabled]="currentPage() === totalPages()" (click)="nextPage()">Next</button>
  </nav>
}
